---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data

### Download file and load to R

First we use the download.file() function to download the raw data file, then use read.table and unz
() to load it to R.

```{r echo=TRUE}

download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip", "activity data.zip")

data <- read.table(unz("activity data.zip", "activity.csv"), header=T, sep=",")


```

### Review the data

Now we take a look at the data set to ensure it is consistent with our expectations. We use the str(), summary() and head() functions to explore the data.

```{r echo=TRUE}

str(data)
summary(data)
head(data)

```

## What is mean total number of steps taken per day?

To determine the mean total number of steps per day, we first aggregate the daily totals using the aggregate() function and then use the daily totals to calculate the mean and the median of the daily step counts.  We can also plot the distribution of daily step count using a histogram.

```{r echo=TRUE}

daily_steps <- aggregate(data$steps, list(data$date), FUN=sum)
names(daily_steps) <- c("date", "total_steps")
hist(daily_steps$total_steps, main="Histogram of Daily Step Totals", xlab = "Daily Steps Totals")
mean(daily_steps$total_steps, na.rm = TRUE)
median(daily_steps$total_steps, na.rm = TRUE)

```


## What is the average daily activity pattern?

To determine the average daily step pattern, we now aggregate the data across all days, and by time-bin.  Then we can plot the averages and determine the most active time period (on average) of all of the days measured.  We can then use the max() function to determine which interval averages the highest number of steps. 


```{r echo=TRUE}

interval_avg <- aggregate(data$steps, list(data$interval), FUN=mean, na.rm=TRUE)
names(interval_avg) <- c("Interval", "TotalSteps")

plot(interval_avg, type="l", main="AVerage steps per interval", xlab="Interval", ylab="Average No. Steps")

interval_avg[which(interval_avg$TotalSteps == max(interval_avg$TotalSteps)),]

```

This shows that the 835 time interval on average has the most number of steps with a monthly average of `r max(interval_avg$TotalSteps)` steps.

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
